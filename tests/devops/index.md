---
title: Тестовое задание на позицию Junior DevOps
layout: single-copy
classes: wide
author_profile: true
author: Pavel Shiryaev
---

## Введение

Рекомендуемое время выполнения: 2 часа на каждое задание.

Ожидаемый результат: репозиторий на GitHub, либо git репозиторий упакованный в архив переданный в ответе на письмо с заданием.

Можно выполнить любой объём задания.

## Python

### Задача

Написать простенькую программу-дневник для нескольких пользователей
с возможностью вести и читать записи.
 
Пользователь должен иметь возможность залогиниться в приложении (указать своё имя).
После того, как пользователь залогинился, он должен иметь возможность либо сделать новую запись в дневнике,
либо посмотреть свои записи за определенный день.

Данные храним в JSON, каждая запись в дневнике выглядит так: имя пользователя, дата, текст записи.

```
...
{
    "username": "bob",
    "date": "2021-09-27 17:43",
    "entry": "Сегодня я успешно прошел интервью и устроился на работу в отличную компанию, ура!
},
...
```

Необходимо, чтобы пользователи не могли читать чужие записи,
поэтому можно каким-то образом зашифровать их (без фанатизма).
В качестве ключа шифрования, можно использовать имя пользователя,
просто чтобы записи не лежали в plain-text. С системой работы с паролями можете не заморачиваться.

### Технические требования

**Обязательно:**

 - Использовать только `python3`
 - Запушить проект на `github.com`
 - Приложение пишем с использованием встроенных библиотек
 - Простые юнит-тесты

**Желательно:**

Оформить как `pip`-пакет, с добавлением в `path` и возможностью запуска через консоль после установки (`setup.py`, `setuptools`, сделать `entrypoint`).

Поощряется кросс-платформенность, проверить на `linux` и `windows`.

Дальше по дополнительным баллам идет `docker`-контейнер, опять же чистенький, с точкой входа,
чтобы можно было запускать приложение через `docker run app`/`docker attach app`.

Подумайте над тем, как хранить данные дневника (`docker-volume`, монтировать директорию).

#### Примерный рабочий цикл:
 - запускаем приложение
 - предлагаем ввести имя пользователя (`login`)
   - если такого пользователя нет, то предлагаем завести (`Y/n`)
   - при отказе возвращаемся на `login`
   - опционально можно добавить команду `logout` для возможности смены пользователя
 - `write %текст записи%` - создаем новую запись в дневнике и сохраняем
   - отвечаем, что добавлена новая запись
 - `read %дата%` - выводим записи за указанный день
   - если аргументов нет - выводим записи за текущий день
   - если записей нет - выводим сообщение о том, что записей за указанную дату нет
 - выходим по команде `quit`/`exit`
 
## Bash

### Задача

Написать shell-скрипт, который обходит текстовые файлы проекта,
заполняет шаблон лицензии для каждого файла, и добавляет лицензию в начало файла.

**Сигнатура:**

```
./script.sh [-h] [-f путь_к_лицензии] путь_к_проекту
``` 

### Данные

#### Файловая структура проекта

Проект содержит некоторое количество файлов и папок.
Файлы проекта могут быть как текстовыми, так и бинарными - изображения, исполняемые файлы, и т.д.
Необходимо обработать только текстовые файлы похожие на код(html, py, sh, Dockerfile, ... ваши варианты)

[**ссылка на скачивание архива с проектом**](Cufflinks-master.tar.gz)

#### Текстовый файл с шаблоном лицензии проекта

Примерное содержание шаблона:

    Файл: ${filename}
    Проект: ${root_folder}
    Автор: ${file_owner}
    Текст лицензии на ваш выбор

Шаблон по-своему заполняется для каждого файла проекта.

### Требования к реализации

C точки зрения пользователя, скрипт должен запускаться через командную строку,
c указанием пути к проекту в качестве первого и единственного аргумента.
Должна быть возможность указать путь к файлу лицензии через опциональный параметр (ключ).
По умолчанию скрипт должен искать файл с лицензией в корневой папке, рядом с собой.

Программа должна умещаться в плюс-минус 50 строк.
Можете использовать `bash`, или любой другой `POSIX-compliant shell`.

### Технические детали 

Файлы проекта могут содержать `hashbang`, например, `#!/usr/bin/python`, `#!/bin/sh`.
Лицензия должна быть вставлена **после** `hashbang` и **до** всего остального кода.
Если `hashbang` отсутствует, то лицензия должна быть вставлена **в начало файла**.

Если какой-то файл проекта уже содержит лицензию, дописывать еще одну лицензию не нужно -
проверьте, если в файле уже есть лицензия.

В конце, при успешном исполнении вывести количество измененных файлов в `stdout`, список имен и путей в `.log` файл.
При ошибке вывести красивое сообщение об ошибке в `stderr`.

Бонусные очки за удобный интерфейс, подобие тестов, и возможность исполнять на любой Linux-подобной системе.


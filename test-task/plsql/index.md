# Тестовое задание на позицию PL/SQL разработчика

**Copyright! Приведённый ниже текст является собственностью компании АО "Стек Софт" его использование или публикация в открытых ресурсах не допускается без письменного согласия компании.**

## Исходные данные

Есть сервер приложений, на котором крутится демон А, готовый принимать из БД 2 типа заданий:

- *ROUTER* - Настройку маршрутизатора
- *SMS* - Отправка СМС сообщений

И есть демон Б, готовый принимать задания

- *SMS* - Отправка СМС сообщений
- *KVSTORE* - Запись пары ключ-значение в другую БД

При чем, каждый из этих демонов многопоточный и высоко параллельный, т.е. выбирает из БД задачи в несколько параллельных сессий, выполняет их, и результаты выполнения пишет тоже параллельно.
Предположим, чтобы выполнить задание каждого типа, демону достаточно одной строки с параметрами.
Ну и предположим, что все это довольно нагружено и в очередь каждую секунду падает, скажем 30 разных задач.

## Задача

Ваша нужно разработать пакет, который бы позволял 

* Создавать новые задания любого из 3-х типов
* Каждому демону подписываться на нужные типы заданий
* Выдавать каждому демону свои задания с указанием типа и строки параметров. При этом, ни в коем случае, нельзя выдать одну задачу сразу двоим или более обработчикам.
* После выполнения задания демон отчитывается о том успешно ли все прошло или нет, поэтому должен быть метод для фиксации результата, просто OK или ERROR
* При ошибке задание нужно попробовать повторить через 10 минут, всего 3 попытки

Нам интересно, чтобы это не просто работало, а работало максимально эффективно.
Чтобы по минимуму терялось время на ожидании блокировок, быстро проверялось наличие задач в очереди и т.д.
Важные места желательно откомментировать, почему так, а не иначе.
